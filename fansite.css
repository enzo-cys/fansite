/* ===================== Réinitialisation & Body ===================== */
* { margin:0; padding:0; box-sizing:border-box; }
body {
  font-family:"Cinzel", serif;
  line-height:1.6;
  color:#e5e5e5;
  background: linear-gradient(to bottom,#0a0a0a,#1a001a);
}

/* ===================== Vidéo de fond ===================== */
#bg-video { 
  position:fixed; top:0; left:0; width:100%; height:100%; object-fit:cover; z-index:-1; 
  filter:brightness(0.5); 
}

/* ===================== En-tête & Navigation ===================== */
header {
  background: linear-gradient(to right,#220000,#000000);
  color:#ffd700;
  padding:1rem 2rem;
  border-bottom:2px solid #660000;
  text-align:center;
  position:sticky;
  top:0;
  z-index:10;
}
header h1 { font-size:2.2rem; text-shadow:2px 2px 6px black; margin-bottom:0.5rem; }
nav ul { list-style:none; display:flex; justify-content:center; gap:1.5rem; }
nav a { color:#e5e5e5; text-decoration:none; padding:0.5rem 1rem; border-radius:5px; transition:0.3s; }
nav a.active, nav a:hover { background:#660000; color:#ffd700; }

/* ===================== Section principale (hero) ===================== */
.hero { display:flex; justify-content:center; align-items:center; height:auto; text-align:center; padding:3rem 2rem; }
.hero-content {
  background:rgba(0,0,0,0.7);
  padding:2.5rem;
  border-radius:12px;
  border:2px solid #660000;
  max-width:700px;
  margin:0 auto 3rem auto;
  text-align:center;
  box-shadow:0 0 20px rgba(212,175,55,0.5);
}
.hero-content h2 { font-size:2rem; color:#ffd700; margin-bottom:1rem; text-shadow:2px 2px 5px black; }
.hero-content p { color:#f0e6d2; font-size:1.1rem; margin-bottom:1.5rem; line-height:1.6; }
.hero-content .btn { display:inline-block; margin-top:1rem; padding:0.5rem 1rem; background:#660000; color:#ffd700; text-decoration:none; border-radius:5px; transition:0.3s; }
.hero-content .btn:hover { background:#990000; }

/* ===================== Audio du hero ===================== */
.hero-content audio {
  width:320px;
  max-width:90%;
  margin:1.5rem auto 2rem auto;
  display:block;
  outline:none;
  border-radius:10px;
  border:2px solid #660000;
  background:rgba(0,0,0,0.6);
  box-shadow:0 0 15px rgba(212,175,55,0.5);
}

/* ===================== Contenu principal ===================== */
main { padding:3rem 2rem; }

/* ===================== Titres H2 généraux ===================== */
h2 { text-align:center; color:#d4af37; text-shadow:2px 2px 5px black; font-size:2rem; margin-bottom:2rem; }

/* ===================== Galerie de photos ===================== */
.gallery { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:1.5rem; margin-top:2rem; }
.gallery img { width:100%; border-radius:10px; border:2px solid #660000; transition:0.3s; }
.gallery img:hover { transform:scale(1.05); border-color:#ffd700; box-shadow:0 0 15px rgba(212,175,55,0.5); }

/* ===================== Section de l'opening ===================== */
.opening { 
  background: linear-gradient(135deg,#111 40%,#2b2b2b 100%);
  color:#f0e6d2;
  padding:3rem 2rem;
  text-align:center;
  border-top:2px solid #9b870c;
  border-bottom:2px solid #9b870c;
  border-radius:12px;
  box-shadow:0 0 20px rgba(212,175,55,0.3);
}
.opening h2 { font-size:2rem; margin-bottom:1.5rem; font-family:"Cinzel", serif; color:#d4af37; text-shadow:2px 2px 5px black; }
.video-container, .trailer-video { position:relative; width:100%; max-width:800px; margin:0 auto 2rem auto; border:3px solid #9b870c; border-radius:10px; overflow:hidden; box-shadow:0 0 20px rgba(255,215,0,0.5); }
.video-container iframe, .trailer-video iframe { width:100%; height:450px; display:block; }

/* ===================== Personnages ===================== */
.characters-grid { display:flex; flex-direction:column; gap:2rem; margin-top:2rem; }
.characters-grid .grid { display:flex; flex-wrap:wrap; justify-content:center; gap:2rem; }
.character-card {
  background:rgba(0,0,0,0.6);
  border:2px solid #660000;
  border-radius:10px;
  width:220px;
  text-align:center;
  padding:1rem;
  transition:0.3s;
}
.character-card img { width:100%; height:400px; object-fit:cover; border-radius:10px; margin-bottom:0.8rem; transition:0.3s; }
.character-card:hover img { transform:scale(1.05); box-shadow:0 0 15px rgba(212,175,55,0.7); }
.character-card h3 { color:#ffd700; margin-bottom:0.5rem; }
.character-card p { font-size:0.9rem; line-height:1.4; }

/* ===================== Section Ainz ===================== */
.character.ainz-section {
  position:relative;
  background:url('img/carte.jpeg') no-repeat center center/cover;
  padding:2rem;
  border-radius:12px;
  border:2px solid #660000;
  margin-bottom:3rem;
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
}
.character.ainz-section::before {
  content:"";
  position:absolute;
  inset:0;
  background: rgba(0,0,0,0.6);
  border-radius:12px;
  z-index:0;
}
.character.ainz-section img, .character.ainz-section h3, .character.ainz-section p { position:relative; z-index:1; }
.character.ainz-section img { width:80%; max-width:400px; border-radius:15px; margin-bottom:1rem; border:2px solid #d4af37; }
.character.ainz-section h3 { font-size:2.2rem; color:#ffd700; text-shadow:2px 2px 10px black; margin-bottom:0.8rem; }
.character.ainz-section p { font-size:1rem; line-height:1.5; color:#f0e6d2; text-align:center; }

/* ===================== À propos de l'anime ===================== */
.about {
  padding:3rem 2rem;
  max-width:1000px;
  margin:0 auto 3rem auto;
  color:#f0e6d2;
  line-height:1.7;
}
.about h2 {
  font-size:2rem;
  color:#ffd700;
  text-shadow:2px 2px 6px black;
  margin-bottom:1rem;
}
.about p {
  margin-bottom:1.5rem;
  font-size:1.1rem;
}

/* ===================== Actualités (news) ===================== */
.news-container { display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:2rem; margin-top:2rem; }
.news-card { background:rgba(0,0,0,0.6); border:2px solid #660000; border-radius:10px; overflow:hidden; transition:0.3s; }
.news-card:hover { transform:translateY(-5px); box-shadow:0 0 20px rgba(255,215,0,0.5); }
.news-card img { width:100%; height:200px; object-fit:cover; border-bottom:2px solid #660000; }
.news-content { padding:1rem; }
.news-content h3 { color:#ffd700; margin-bottom:0.5rem; }
.news-content .date { font-size:0.9rem; color:#d4af37; margin-bottom:1rem; }
.news-content p { line-height:1.4; }

/* ===================== Événements ===================== */
.events-section { padding:2rem 0; }
.events-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:2rem; margin-top:2rem; }
.event-card { background:rgba(0,0,0,0.6); border:2px solid #660000; border-radius:12px; overflow:hidden; text-align:center; padding-bottom:1rem; transition:0.3s; position: relative; }
.event-card img { width:100%; height:200px; object-fit:cover; border-bottom:2px solid #660000; }
.event-card h3 { color:#ffd700; margin:1rem 0 0.5rem; }
.event-card p { font-size:0.9rem; line-height:1.4; margin:0 1rem; }
.event-card .date { display:block; margin-top:0.5rem; color:#d4af37; font-size:0.85rem; }
.event-card:hover { transform:translateY(-5px); box-shadow:0 0 20px rgba(212,175,55,0.7); }
.event-card::before { content: attr(data-year); position: absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:4rem; font-weight:bold; color: rgba(212,175,55,0.2); z-index:0; pointer-events:none; transition: transform 0.5s ease, opacity 0.5s ease; }
.event-card:hover::before { transform: translate(-50%,-50%) scale(1.2); opacity:0.15; }

/* ===================== Filtres ===================== */
.filters { display:flex; justify-content:center; gap:1rem; flex-wrap:wrap; margin-bottom:2rem; }
.filter-btn { padding:0.5rem 1rem; background:rgba(102,0,0,0.8); color:#ffd700; border:none; border-radius:5px; cursor:pointer; transition:0.3s; }
.filter-btn.active, .filter-btn:hover { background:#660000; color:#ffd700; }

/* ===================== Page Contact ===================== */
.contact-section {
  max-width:600px;
  margin:2rem auto;
  padding:2rem;
  background: rgba(0,0,0,0.7);
  border-radius:12px;
  border:2px solid #660000;
  box-shadow:0 0 20px rgba(212,175,55,0.5);
  text-align:center;
  color:#ffd700;
}
.contact-section h2 {
  font-size:2.2rem;
  margin-bottom:1.5rem;
  color:#ffd700;
  text-shadow:2px 2px 6px black;
}
.contact-form p {
  margin-bottom:1.5rem;
  line-height:1.5;
  color:#f0e6d2;
  font-size:1.1rem;
}
.contact-form label {
  display:block;
  margin-bottom:5px;
  font-weight:bold;
  color:#ffd700;
}
.contact-form input,
.contact-form textarea {
  width:100%;
  padding:0.8rem;
  margin-bottom:1.2rem;
  border-radius:8px;
  border:2px solid #660000;
  background: rgba(255,255,255,0.05);
  color:#e5e5e5;
  font-size:1rem;
  outline:none;
  transition:0.3s;
}
.contact-form input:focus,
.contact-form textarea:focus {
  border-color:#ffd700;
  box-shadow:0 0 10px rgba(212,175,55,0.7);
}
.contact-form textarea { min-height:150px; resize:vertical; }
.contact-form button {
  width:100%;
  padding:0.8rem;
  background:#660000;
  color:#ffd700;
  font-weight:bold;
  border:2px solid #d4af37;
  border-radius:8px;
  cursor:pointer;
  transition:0.3s;
}
.contact-form button:hover {
  background:#990000;
  color:#fff;
  box-shadow:0 0 15px rgba(212,175,55,0.7);
}

/* ===================== Pied de page ===================== */
footer { display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; background:linear-gradient(to right,#000000,#220000); color:#ffd700; padding:1.5rem 2rem; border-top:2px solid #660000; }
.footer-left, .footer-center, .footer-right { display:flex; align-items:center; gap:15px; flex:1; }
.footer-left { justify-content:flex-start; } .footer-center { justify-content:center; } .footer-right { justify-content:flex-end; }
.btn-github { display:inline-block; padding:10px 20px; background:#212121; color:#ffd700; font-weight:bold; text-decoration:none; border-radius:8px; border:2px solid #ffd700; transition:0.3s; font-size:1.1rem; }
.btn-github i { margin-right:8px; } .btn-github:hover { background:#ffd700; color:#000; transform:scale(1.05); }
.footer-center a { color:#fff; text-decoration:none; margin:0 10px; font-weight:bold; transition:0.3s; }
.footer-center a:hover { text-decoration:underline; }
.footer-right a { color:#ffd700; font-size:1.5rem; margin-left:10px; transition:0.3s; }
.footer-right a:hover { color:#ff3333; transform:scale(1.2); }

/* ===================== Liens d'épisodes ===================== */
.episode-links { text-align:center; margin-top:3rem; }
.episode-links h3 { font-size:1.5rem; color:#ffd700; margin-bottom:1rem; text-shadow:1px 1px 4px black; }
.episode-links ul { list-style:none; padding:0; display:flex; flex-wrap:wrap; justify-content:center; gap:15px; }
.episode-links ul li a { display:inline-block; padding:10px 20px; background:#660000; color:#ffd700; text-decoration:none; font-weight:bold; border-radius:8px; border:2px solid #d4af37; transition:all 0.3s ease; }
.episode-links ul li a:hover { background:#ffd700; color:#000; transform:scale(1.05); box-shadow:0 0 15px rgba(212,175,55,0.7); }

/* ===================== Boutons page Vidéos ===================== */
.video-btn { padding:0.5rem 1rem; background:#660000; color:#ffd700; border:2px solid #d4af37; border-radius:8px; font-weight:bold; text-decoration:none; margin:0.3rem; display:inline-block; transition:0.3s; }
.video-btn:hover { background:#ffd700; color:#000; transform:scale(1.05); box-shadow:0 0 10px rgba(212,175,55,0.7); }
/* Galerie photos - taille uniforme */
.gallery img {
  width: 100%;
  max-width: 300px;   /* Ajuste selon tes préférences */
  height: 200px;      /* Ajuste selon tes préférences */
  object-fit: cover;  /* Remplit le cadre sans déformer l'image */
  border-radius: 10px;
  border: 2px solid #660000;
  transition: 0.3s;
}

.gallery img:hover {
  transform: scale(1.05);
  border-color: #ffd700;
}
/* Section spéciale */
/* Espacement horizontal entre les cartes dans .highlight */
.highlight {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  gap: 2.2rem; /* espace horizontal entre les cartes */
  padding: 3rem;
}

/* Carte */
.card {
  position: relative;
  width: 350px;
  height: 450px;
  overflow: hidden;
  border-radius: 15px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.5);
  cursor: pointer;
}

/* Image */
.card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.6s ease, opacity 0.6s ease;
}

/* Texte caché par défaut */
.card-text {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.85);
  color: #ffd700;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  opacity: 0;
  transform: translateY(100%);
  transition: all 0.6s ease;
  padding: 1.5rem;
  text-align: center;
}

/* Effet au survol */
.card:hover .card-image img {
  transform: scale(1.2);
  opacity: 0;
}

.card:hover .card-text {
  opacity: 1;
  transform: translateY(0);
}

/* cache utilisé par le filtre d'événements */
.hide { display: none !important; }

/* styles pour la lightbox */
#lightbox { display:none; position:fixed; inset:0; z-index:1000; align-items:center; justify-content:center; }
#lightbox[aria-hidden="false"] { display:flex; }
#lightbox .lightbox-backdrop { position:absolute; inset:0; background:rgba(0,0,0,0.8); }
#lightbox .lightbox-content { position:relative; max-width:92vw; max-height:92vh; padding:1rem; box-sizing:border-box; opacity:0; transform:translateY(6px); transition:opacity .18s,transform .18s; }
#lightbox .lightbox-content img { max-width:100%; max-height:100%; border-radius:8px; box-shadow:0 0 30px rgba(0,0,0,0.7); }
#lightbox .lightbox-backdrop { opacity:0; transition:opacity .18s; }
#lightbox .lightbox-backdrop.visible { opacity:1; }
#lightbox .lightbox-content.visible { opacity:1; transform:none; }
#lb-close { position:absolute; top:-18px; right:-18px; background:#fff; border-radius:50%; border:none; padding:6px 10px; cursor:pointer; font-weight:bold; }
/* prev/next buttons */
#lb-prev,#lb-next { position:absolute; top:50%; transform:translateY(-50%); background:rgba(255,255,255,.9); border:0; width:48px; height:48px; border-radius:50%; display:flex; align-items:center; justify-content:center; box-shadow:0 2px 10px rgba(0,0,0,.3); font-size:28px; cursor:pointer; }
#lb-prev { left:.5rem; }
#lb-next { right:.5rem; }
@media (max-width:480px) {
  #lb-prev,#lb-next { width:40px; height:40px; font-size:22px; }
}

/* Empilement vertical des cartes dans .highlight sur petits écrans */
@media (max-width: 768px) {
  .highlight { flex-direction:column; align-items:center; }
  .highlight .card { width:100%; max-width:420px; }
}

/* ===================== Réactif / Ajustements mobile ===================== */
/* Par défaut, le bouton du menu est caché sur grand écran. Il apparaît sous 768px.
  Cela évite que l'UI mobile s'affiche sur les écrans larges. */
#nav-toggle { display:none; }

@media (max-width: 768px) {
  /* affiche le bouton menu mobile */
  #nav-toggle { display:inline-block; background:transparent; border:none; color:#ffd700; font-size:1.2rem; cursor:pointer; padding:10px 12px; border-radius:8px; min-width:44px; min-height:44px; position:relative; z-index:100; touch-action:manipulation; }
  /* keep the icon visually small while increasing hit area */
  #nav-toggle i { font-size:1.0rem; display:inline-block; }
  #nav-toggle:focus { outline:2px solid #d4af37; }
  header { padding:0.8rem 1rem; }
  header h1 { font-size:1.5rem; }
  /* navigation mobile empilée */
  nav ul { flex-direction:column; gap:0; display:flex; max-height:0; overflow:hidden; background:linear-gradient(to bottom,#110000,#000); width:100%; transition: max-height 260ms ease-in-out, opacity 200ms ease-in-out; opacity:0; }
  header.open nav ul { max-height:420px; opacity:1; }
  nav a { padding:0.8rem 1rem; display:block; border-top:1px solid rgba(255,255,255,0.03); }

  /* Masque la vidéo d'arrière-plan sur petits écrans pour économiser de la bande passante */
  #bg-video { display:none; }
  .hero { padding:2rem 1rem; }
  .hero-content { padding:1.2rem; }
  .hero-content h2 { font-size:1.4rem; }
  .hero-content p { font-size:1rem; }
  .video-container iframe, .trailer-video iframe { height:260px; }
  .video-container, .trailer-video { max-width:100%; }
  .character-card img { height:220px; }
  .character-card { width:160px; }
  .gallery { grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); }
  .gallery img { height:140px; }
  .card { width:100%; height:auto; }
  .card-image img { height:240px; }
  .about { padding:1.5rem 1rem; }
  main { padding:1.5rem 1rem; }
  footer { flex-direction:column; gap:10px; align-items:center; text-align:center; }
}

/* Mobile-specific: make tapped cards expand so the hidden text becomes fully visible.
   On desktop we use absolute overlay + hover; on small screens we switch to a
   flowing layout where .card-text is collapsed by default and expands when
   .card.open is present (toggled by touch). This avoids clipping due to
   overflow:hidden and lets the card grow to fit its content. */
@media (max-width: 768px) {
  .card { overflow: visible; }
  .card .card-text {
    /* start collapsed */
    position: relative;
    transform: none;
    opacity: 0;
    max-height: 0;
    overflow: hidden;
    transition: max-height .32s ease, opacity .24s ease, padding .24s ease;
    padding: 0 1.5rem;
  }
  .card.open .card-text {
    /* expanded: allow full text and let the card height grow */
    opacity: 1;
    max-height: 1200px; /* large enough for typical content */
    padding: 1.2rem 1.5rem;
  }
}

@media (max-width: 480px) {
  header h1 { font-size:1.2rem; }
  nav a { font-size:0.95rem; }
  .hero-content audio { width:100%; }
  .video-container iframe, .trailer-video iframe { height:200px; }
  .character-card img { height:180px; }
  .gallery img { height:120px; }
  .news-card img, .event-card img { height:140px; }
}
